version: 0.2

phases:
  pre_build:
    commands:
      - terraform -version
      - terragrunt -version
      - tflint --version
      - tfsec -version
      - aws --version
  install:
    commands:
      - echo ***TERRAFORM INIT***
      - ./pipelines/execute.sh "terraform init"
  build:
    commands:
      - echo ***TERRAFORM VALIDATE***
      - ./pipelines/execute.sh "terraform validate"
      - echo ***CODE LINTING***
      - ./pipelines/execute.sh "tflint --module"